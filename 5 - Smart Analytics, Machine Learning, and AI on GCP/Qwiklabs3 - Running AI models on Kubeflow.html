<!DOCTYPE html>
<html lang='en'>
<head>
<meta content='[]' name='active-experiments'>
<meta content='{&quot;userId&quot;:2485272}' name='help-api-product-data'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="ATV4wsseA3MYETGH9Trp7u13mK0oZcJbYSIBFCuJC+ofmW7yk5O7mP3/1yWVdFZWYMFiIOu/x9dbPfMhQ/gzRQ==" />
<title>Running AI models on Kubeflow | Qwiklabs</title>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0' name='viewport'>
<meta content='This lab will serve as an introduction to Kubeflow, an open-source project which aims to make running ML workloads on Kubernetes simple, portable and scalable.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='Running AI models on Kubeflow | Qwiklabs' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='This lab will serve as an introduction to Kubeflow, an open-source project which aims to make running ML workloads on Kubernetes simple, portable and scalable.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<link href='/favicon-32.png' rel='shortcut icon'>
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons|Google+Material+Icons" />


<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script>
//<![CDATA[
window.gon={};gon.current_user={"firstname":"Carlo","lastname":"Andr\u00e9 Castro Galindo","fullname":"Carlo Andr\u00e9 Castro Galindo","company":"Coursera","email":"carlocastrogalindo@gmail.com","origin":"googlecoursera-run, lti-coursera","subscriptions":0,"id":"eb3f0602d940d94d2eaeef36f2aa2e77","qlCreatedAt":"2020-02-28 17:36:48 UTC","optIn":null};gon.segment="j4Im8pqIko0Lxq4wVVZWMPMM0EroHUvb";gon.deployment="googlecoursera-run";
//]]>
</script>
<script src='https://www.google.com/recaptcha/api.js?render=6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr'></script>
<script type='application/ld+json'>
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "https://www.qwiklabs.com/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.qwiklabs.com/catalog?keywords={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<script id='ze-snippet' src='https://static.zdassets.com/ekr/snippet.js?key=511e4158-0aec-4e3c-b2e6-4daa1769f51e'></script>



<link rel="stylesheet" media="all" href="https://cdn.qwiklabs.com/assets/application-0fbb2e2ec51da40239f1b54d7bd34aa50f59bc233036120124c2fb4e6c5fd90e.css" />
<script>
  EVENT_SOURCE_BASE_URL = "https://googlecoursera-run.qwiklabs.com/nchan-sub?id=";
</script>
<script src="https://cdn.qwiklabs.com/polyfills/webcomponents-loader.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-c8a543a8e9e63ffd57a2b2bb36bd5c342eaa604dffa0f1c63a43d84ccebe2d76.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-45d462772c30000424907184f70c7157e95fb6227698d1671c5051818a6f60d8.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-3fc70562de25b3405b5605bd7e10c53474b5c01cb26ae806a9f1c321050f4a1d.js"></script>
</head>
<body class='focuses focuses-show lab-show l-full no-nav'>
<div class='header-container'>
<div class='header'>
<a class='mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect header__button header__button--nav header__nav-panel-button js-nav-toggle'>
<i class='material-icons'>menu</i>
</a>
<div class='header__title'>
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--nav" href="https://www.coursera.org/"><ql-icon>arrow_back</ql-icon></a>

<h1 class='headline-5'>
Running AI models on Kubeflow
</h1>
</div>
<div class='header__actions'>
<a class='mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--action header__button--search js-header-search-bar-button'>
<i class='material-icons'>search</i>
</a>
<a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" id="toggle-lab-control-panel" href="javascript:;"><i class='material-icons'>description</i>
</a><div class='mdl-tooltip js-tooltip' data-mdl-for='toggle-lab-control-panel'>
Toggle Lab Panel
</div>

<ql-help context="lab" productdata="{&quot;userId&quot;:2485272}" data-analytics-action="opened_help" data-analytics-label="lab"></ql-help>
<a class='header-my-account-button mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect js-my-account-button'>
<img class="avatar " alt="avatar image" src="https://secure.gravatar.com/avatar/be719396bbcc1e8bcb204a54e1920c54.png?s=80&amp;d=mm" />
</a>
<div class='header-my-account-menu js-my-account-menu'>
<div class='card elevation-2 no-padding'>
<div class='my-account-menu__top'>
<img class="avatar " alt="avatar image" src="https://secure.gravatar.com/avatar/be719396bbcc1e8bcb204a54e1920c54.png?s=80&amp;d=mm" />
<div class='my-account-menu__info'>
<h4 class='subtitle-headline-1'>
Carlo Andr√© Castro Galindo
</h4>
<p class='body-2 text--gray'>
<span>carlocastrogalindo@gmail.com</span>
</p>
<a class="button" href="/my_account/profile">My Account</a>
</div>
</div>
<div class='my-account-menu__bottom'>
<a class="text--green subtitle-headline-2" href="/my_account/credits">0 Credits
</a><a data-analytics-action="clicked_sign_out" class="button button--hairline" rel="nofollow" data-method="delete" href="/users/sign_out">Sign Out</a>
</div>
</div>
</div>

</div>
</div>
<div class='header__search-bar js-header-search-bar'>
<form id="catalog-search-mobile" onsubmit="ql.catalogSearchFilter(); return false;" action="/searches/elasticsearch" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="BVmtMqEfY5r4I9KPhBG5qreljcUlyBqtvYj8v0EZGG4b9bsC+ZLbcR3NNC3kXwYSOhN3SOYSHyGHlw6KKWggwQ==" />
<input type="text" name="keywords" id="keywords" placeholder="Search" maxlength="255" aria-label="catalog search bar" />
</form>

<a class='mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button'>
<i class='material-icons'>close</i>
</a>
</div>
</div>

<nav class='nav-bar'>
<a class="nav-bar__item js-navigation-button" href="/"><ql-icon class='nav-bar__item__icon'>
home
</ql-icon>
<span class='nav-bar__item__label'>
Home
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="/catalog"><ql-icon class='nav-bar__item__icon'>
school
</ql-icon>
<span class='nav-bar__item__label'>
Catalog
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="/my_learning"><ql-icon class='nav-bar__item__icon'>
event_note
</ql-icon>
<span class='nav-bar__item__label'>
My Learning
</span>
</a>
</nav>

<nav class='nav-panel js-nav-panel'>
<div class='nav-panel__logo'>
<div class='logo logo--blue'></div>
</div>
<a title="Home" tabindex="-1" class="nav-panel__item js-navigation-button" href="/"><ql-icon class='nav-panel__item__icon'>
home
</ql-icon>
<div class='nav-panel__item__label'>
Home
</div>
</a>
<a title="Catalog" tabindex="-1" class="nav-panel__item js-navigation-button" href="/catalog"><ql-icon class='nav-panel__item__icon'>
school
</ql-icon>
<div class='nav-panel__item__label'>
Catalog
</div>
</a>
<a title="My Learning" tabindex="-1" class="nav-panel__item js-navigation-button" href="/my_learning"><ql-icon class='nav-panel__item__icon'>
event_note
</ql-icon>
<div class='nav-panel__item__label'>
My Learning
</div>
</a>
<div class='nav-panel__spacer'></div>
<a title="Profile" tabindex="-1" class="nav-panel__item js-navigation-button" href="/my_account/profile"><ql-icon class='nav-panel__item__icon'>
account_circle
</ql-icon>
<div class='nav-panel__item__label'>
Profile
</div>
</a>
<a title="Credits &amp; Subscriptions" tabindex="-1" class="nav-panel__item js-navigation-button" href="/my_account/credits"><ql-icon class='nav-panel__item__icon'>
money
</ql-icon>
<div class='nav-panel__item__label'>
Credits &amp; Subscriptions
</div>
</a>
<a title="Security" tabindex="-1" class="nav-panel__item js-navigation-button" href="/my_account/security"><ql-icon class='nav-panel__item__icon'>
security
</ql-icon>
<div class='nav-panel__item__label'>
Security
</div>
</a>
<div class='nav-panel__spacer'></div>
<a class="nav-panel__item" tabindex="-1" href="#"><ql-help>
<div class='nav-panel__help-item'>
<ql-icon class='nav-panel__item__icon'>help</ql-icon>
<div class='nav-panel__item__label'>Help</div>
</div>
</ql-help>
</a><div class='nav-panel__small-links'>
<a tabindex="-1" href="/privacy_policy">Privacy</a>
<a tabindex="-1" href="/terms_of_service">Terms</a>
</div>
</nav>
<div class='nav-panel__overlay js-nav-toggle'></div>

<main class='js-main'>
<span class='hidden' id='flash-sibling-before'></span>

<div class='l-main-wrapper' id='main-wrapper'>







<div class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;Running AI models on Kubeflow&quot;,&quot;lab_name&quot;:&quot;Running AI models on Kubeflow&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}' data-focus-id='46792' data-lab-billing-limit='0.0' data-lab-duration='9000' data-parent='classroom'></div>
<ql-lab-control-panel class='js-lab-control-panel l-lab-control-panel' connectionDetails='[]' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:9000}' studentResources='[]'></ql-lab-control-panel>
<div class='l-lab-main-body'>
<div class='js-lab-content lab-content'>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message'></p>
<a class='alert__close js-alert-close'>
<i class='fa fa-times'></i>
</a>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-content__markdown-wrapper'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
Running AI models on Kubeflow
</h1>
<div class='lab-preamble__details subtitle-headline-1'>
<span>2 hours 30 minutes</span>
<span>9 Credits</span>
<div class='lab__rating'>
<a href="/focuses/46792/reviews?parent=catalog"><div class='rateit' data-rateit-readonly='true' data-rateit-value='3.0886'></div>

</a><a data-target='#lab-review-modal' data-toggle='modal'>
Rate Lab
</a>
</div>
</div>
</div>

<div class='lab-content__inner-wrapper'>
<div class='js-markdown-instructions lab-content__markdown markdown-lab-instructions' id='markdown-lab-instructions'>



<h2 id="step1">Overview</h2>
<p><img alt="kubeflow_logo.png" src="https://cdn.qwiklabs.com/8Y7J6eB297hH65yrB2Spfd943LZe9fJjHK5EvEBadDw%3D"></p>
<p>As datasets continue to expand and models grow become complex, distributing machine learning (ML) workloads across multiple nodes is becoming more attractive. Unfortunately, breaking up and distributing a workload can add both computational overhead, and a great deal more complexity to the system. Data scientists should be able to focus on ML problems, not DevOps.</p>
<p>Fortunately, distributed workloads are becoming easier to manage, thanks to  <a href="https://kubernetes.io/">Kubernetes</a>. Kubernetes is a mature, production ready platform that gives developers a simple API to deploy programs to a cluster of machines as if they were a single piece of hardware. Using Kubernetes, computational resources can be added or removed as desired, and the same cluster can be used to both train and serve ML models.</p>
<p>This lab will serve as an introduction to  <a href="http://www.kubeflow.org">Kubeflow</a>, an open-source project which aims to make running ML workloads on Kubernetes simple, portable and scalable. Kubeflow adds some resources to your cluster to assist with a variety of tasks, including training and serving models and running  <a href="http://jupyter.org/">Jupyter Notebooks</a>. It also extends the Kubernetes API by adding new  <a href="https://kubernetes.io/docs/tasks/access-kubernetes-api/extend-api-custom-resource-definitions/">Custom Resource Definitions (CRDs)</a> to your cluster, so machine learning workloads can be treated as first-class citizens by Kubernetes.</p>
<h3>What You'll Build</h3>
<p><img alt="4536ac27b658b770.png" src="https://cdn.qwiklabs.com/pGf7RnWnpBqT7DA2qkTncmeRUbR%2BJPS9o221%2B4QrR0k%3D"></p>
<p>This lab will describe how to train and serve a TensorFlow model, and then how to deploy a web interface to allow users to interact with the model over the
public internet. You will build a classic handwritten digit recognizer using the MNIST dataset.</p>
<p>The purpose of this lab is to get a brief overview of how to interact with Kubeflow. To keep things simple, the model you'll deploy will use CPU-only training,
and only make use of a single node for training. Kubeflow's  <a href="https://www.kubeflow.org/docs/started/getting-started/">documentation</a> has more information when
you are ready to explore further.</p>
<p><img alt="dcc9c2ad993627f4.png" src="https://cdn.qwiklabs.com/DRD6UIVhbrG7RruRZIKuZ%2B9vF07lxjUqQFQpbPdYEdU%3D"></p>
<h3><strong>What You'll Learn</strong></h3>
<ul>
<li>
<p>How to set up a Kubeflow cluster on GCP</p>
</li>
<li>
<p>How to package a TensorFlow program in a container, and upload it to Google Container Registry</p>
</li>
<li>
<p>How to submit a Tensorflow training job, and save the resulting model to Google Cloud Storage</p>
</li>
<li>
<p>How to serve and interact with a trained model</p>
</li>
</ul>
<h2 id="step2">Set up the environment</h2>
<h2 id="step3">Qwiklabs setup</h2>
<h4>What you'll need</h4>
<p>To complete this lab, you‚Äôll need:</p>
<ul>
<li>
<p>Access to a standard internet browser (Chrome browser recommended).</p>
</li>
<li>
<p>Time. Note the lab‚Äôs <strong>Completion</strong> time in Qwiklabs. This is an estimate of the time it should take to complete all steps.  Plan your schedule so you have time to complete the lab. Once you start the lab, you will not be able to pause and return later (you begin at step 1 every time you start a lab).</p>
</li>
<li>
<p>The lab's <strong>Access</strong> time is how long your lab resources will be available. If you finish your lab with access time still available, you will be able to explore the Google Cloud Platform or work on any section of the lab that was marked "if you have time". Once the Access time runs out, your lab will end and all resources will terminate.</p>
</li>
<li>
<p>You <strong>DO NOT</strong> need a Google Cloud Platform account or project. An account, project and associated resources are provided to you as part of this lab.</p>
</li>
<li>
<p>If you already have your own GCP account, make sure you do not use it for this lab.</p>
</li>
<li>
<p>If your lab prompts you to log into the console, <strong>use only the student account provided to you by the lab</strong>. This prevents you from incurring charges for lab activities in your personal GCP account.</p>
</li>
</ul>
<h4>Start your lab</h4>
<p>When you are ready, click <strong>Start Lab</strong>. You can track your lab‚Äôs progress with the status bar at the top of your screen.</p>
<aside>
<strong>Important</strong> What is happening during this time?
  Your lab is spinning up GCP resources for you behind the scenes, including an account, a project, resources within the project, and permission for you to control the resources needed to run the lab. This means that instead of spending time manually setting up a project and building resources from scratch as part of your lab, you can begin learning more quickly.

</aside>
<h4>Find Your Lab‚Äôs GCP Username and Password</h4>
<p>To access the resources and console for this lab, locate the Connection Details panel in Qwiklabs.  Here you will find the account ID and password for the account you will use to log in to the Google Cloud Platform:</p>
<p><img alt="Open Google Console" src="https://cdn.qwiklabs.com/0d78dhX6IVMVWmixCPPSBbmi5O2GPokCXf1Ps1AkTgI%3D"></p>
<p>If your lab provides other resource identifiers or connection-related information, it will appear on this panel as well.</p>

<h4>Log in to Google Cloud Console</h4>
<p>Using the Qwiklabs browser tab/window or the separate browser you are using for the Qwiklabs session, copy the Username from the Connection Details panel and click the <strong>Open Google Console</strong> button.</p>
<p>You'll be asked to Choose an account. Click <strong>Use another account</strong>.
<img alt="Google_choose_Account" src="https://cdn.qwiklabs.com/wNoohdL%2BwyBavWAhxkN5euPH2ulJhiOzoBlmi1%2BmGSw%3D"></p>
<p>Paste in the Username, and then the Password as prompted:</p>
<p><img alt="Sign in to continue to Google Cloud Platform" src="https://cdn.qwiklabs.com/rP81bHN99Vr7kaKU7fqy2IuSj1rjjNXkD1iunRSBWBw%3D"></p>
<p>Accept the terms and conditions.</p>
<p>Since this is a temporary account, which you will only have to access for this one lab:</p>
<ul>
<li>Do not add recovery options</li>
<li>Do not sign up for free trials</li>
</ul>
<aside>
<strong>Note:</strong> You can view the list of services by clicking the GCP Navigation menu button at the top-left next to ‚ÄúGoogle Cloud Platform‚Äù.

  <img alt="Cloud Console Menu" src="https://cdn.qwiklabs.com/RIuVVYUkGtVaWhxtIFJugxyy%2FORWQYw7OrLR0bJlReI%3D">
</aside>

<h3>Activate Google Cloud Shell</h3>
<p>Google Cloud Shell is a virtual machine that is loaded with development tools. It offers a persistent 5GB home directory and runs on the Google Cloud.
Google Cloud Shell provides command-line access to your GCP resources.</p>
<ol>
<li>
<p>In GCP console, on the top right toolbar, click the Open Cloud Shell button.</p>
<p><img alt="Cloud Shell icon" src="https://cdn.qwiklabs.com/vdY5e%2Fan9ZGXw5a%2FZMb1agpXhRGozsOadHURcR8thAQ%3D"></p>
</li>
<li>
<p>Click <strong>Continue</strong>.
<img alt="cloudshell_continue.png" src="https://cdn.qwiklabs.com/lr3PBRjWIrJ%2BMQnE8kCkOnRQQVgJnWSg4UWk16f0s%2FA%3D"></p>
</li>
</ol>
<p>It takes a few moments to provision and connect to the environment. When you are connected, you are already authenticated, and the project is set to your <em>PROJECT_ID</em>. For example:</p>
<p><img alt="Cloud Shell Terminal" src="https://cdn.qwiklabs.com/hmMK0W41Txk%2B20bQyuDP9g60vCdBajIS%2B52iI2f4bYk%3D"></p>
<p><strong>gcloud</strong> is the command-line tool for Google Cloud Platform. It comes pre-installed on Cloud Shell and supports tab-completion.</p>
<p>You can list the active account name with this command:</p>
<pre><code>gcloud auth list&#x000A;</code></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint">Credentialed accounts:&#x000A; - &lt;myaccount&gt;@&lt;mydomain&gt;.com (active)&#x000A;</code></pre>
<p>Example output:</p>
<pre><code class="language-Output prettyprint">Credentialed accounts:&#x000A; - google1623327_student@qwiklabs.net&#x000A;</code></pre>
<p>You can list the project ID with this command:</p>
<pre><code>gcloud config list project&#x000A;</code></pre>
<p>Output:</p>
<pre><code class="language-output prettyprint">[core]&#x000A;project = &lt;project_ID&gt;&#x000A;</code></pre>
<p>Example output:</p>
<pre><code class="language-Output prettyprint">[core]&#x000A;project = qwiklabs-gcp-44776a13dea667a6&#x000A;</code></pre>
<ql-infobox>
  Full documentation of <strong>gcloud</strong> is available on <a href="https://cloud.google.com/sdk/gcloud">Google Cloud gcloud Overview</a>.
</ql-infobox>

<p>Close the main Navigation Menu by clicking the three lines at the top left of the screen (hamburger), next to the Google Cloud Platform logo.</p>
<h2 id="step4">Enable Boost Mode</h2>
<p>In the Cloud Shell window, click on the Settings dropdown at the far right. Select "Boost Cloud Shell", then ‚ÄúRestart" on the next screen. This will provision a larger instance for your Cloud Shell session, resulting in speedier Docker builds.</p>
<p><img alt="NewBoostMode.png" src="https://cdn.qwiklabs.com/0uFeZK18eSH7Q9mmAvey9Jcew0zywQMdN0aOg7R699w%3D"></p>
<h2 id="step5">Download the project files to Cloud Shell</h2>
<p>The first step is to download a copy of the Kubeflow examples repository, which hosts the code you will be deploying:</p>
<pre><code class="language-bash prettyprint">git clone https://github.com/GoogleCloudPlatform/training-data-analyst&#x000A;cd training-data-analyst/courses/data-engineering/kubeflow-examples&#x000A;&#x000A;</code></pre>
<h2 id="step6">Setting Environment Variables</h2>
<p>Now, set up a few environment variables to use through the course of the lab. The first one is to verify the <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects">Project ID</a>, which denotes which GCP project to use</p>
<pre><code class="language-bash prettyprint">export PROJECT_ID=$(gcloud config list project --format "value(core.project)")&#x000A;gcloud config set project $PROJECT_ID&#x000A;</code></pre>
<p>Next, provide the  <a href="https://cloud.google.com/compute/docs/regions-zones/">zone</a> to use</p>
<pre><code class="language-bash prettyprint">export ZONE=us-central1-a&#x000A;gcloud config set compute/zone $ZONE&#x000A;</code></pre>
<p>The contents of this lab are saved in the <em>"mnist"</em> directory of the repository. Change to the proper directory and set an environment variable for accessing it easily later</p>
<pre><code class="language-bash prettyprint">cd ./mnist&#x000A;WORKING_DIR=$PWD&#x000A;</code></pre>
<h2 id="step7">Installing Kustomize</h2>
<p>Kubeflow uses a tool called  <a href="https://kustomize.io/">Kustomize</a> to manage deployments. This is a way to setup an application so that the same code can be deployed across different environments.</p>
<p>Install Kustomize:</p>
<pre><code class="language-bash prettyprint">mkdir $WORKING_DIR/bin&#x000A;wget https://storage.googleapis.com/cloud-training/dataengineering/lab_assets/kubeflow-resources/kustomize_2.0.3_linux_amd64 -O $WORKING_DIR/bin/kustomize&#x000A;chmod +x $WORKING_DIR/bin/kustomize&#x000A;PATH=$PATH:${WORKING_DIR}/bin&#x000A;</code></pre>
<p>For other ways to install Kustomize, check out the <a href="https://github.com/kubernetes-sigs/kustomize/blob/master/docs/INSTALL.md">installation guide</a>.</p>
<h3>Install kfctl</h3>
<p>Run the following to download and unpack
<a href="https://www.kubeflow.org/docs/gke/deploy/deploy-cli/">kfctl</a>, the Kubeflow command-line tool, then add it to your $PATH. Ignore any errors about 'unknown extended header keyword':</p>
<pre><code class="language-bash prettyprint">wget -P /tmp https://storage.googleapis.com/cloud-training/dataengineering/lab_assets/kubeflow-resources/kfctl_v1.0-0-g94c35cf_linux.tar.gz&#x000A;tar -xvf /tmp/kfctl_v1.0-0-g94c35cf_linux.tar.gz -C ${WORKING_DIR}/bin&#x000A;</code></pre>
<p><code>kfctl</code> allows you to install Kubeflow on an existing cluster or create one from
scratch.</p>
<h2 id="step8">Enabling the API</h2>
<p>Ensure the Google Kubernetes Engine (GKE) API is enabled for your project</p>
<pre><code class="language-bash prettyprint">gcloud services enable container.googleapis.com&#x000A;</code></pre>
<h2 id="step9">Create a cluster</h2>
<p>To create a managed Kubernetes cluster on Kubernetes Engine using <code>kfctl</code>, we
will walk through the following steps:</p>
<ul>
<li>Create an application directory</li>
<li>Set variables for the installation</li>
<li>Apply the configuration, installing the cluster</li>
</ul>
<p>To create an application directory with local config files and enable APIs for
your project, run these commands:</p>
<p><strong>NOTE</strong>:  Please be certain to replace the placeholder values for <strong>KUBEFLOW_USERNAME</strong> and <strong>KUBEFLOW_PASSWORD</strong> to those of your assigned Qwiklabs user account.</p>
<pre><code class="language-bash prettyprint">export CONFIG_URI=https://storage.googleapis.com/cloud-training/dataengineering/lab_assets/kubeflow-resources/kfctl_gcp_basic_auth.v1.0.1.yaml&#x000A;export KUBEFLOW_USERNAME=&lt;REPLACE_WITH_QWIKLABS_USERNAME&gt;&#x000A;export KUBEFLOW_PASSWORD=&lt;REPLACE_WITH_QWIKLABS_PASSWORD&gt;&#x000A;export KF_NAME=kubeflow&#x000A;export KF_DIR=${WORKING_DIR}/${KF_NAME}&#x000A;</code></pre>
<p>This creates the file <code>kubeflow-qwiklab/app.yaml</code>, which defines a full, default Kubeflow
installation. Please ignore any errors related to 'memcache.go'.</p>
<p>To generate the files used to create the deployment, including a cluster and
service accounts, run these commands:</p>
<pre><code class="language-bash prettyprint">mkdir -p ${KF_DIR}&#x000A;cd ${KF_DIR}&#x000A;kfctl build -V -f ${CONFIG_URI}&#x000A;</code></pre>
<p>This generates several new directories, each with customized files. To use the generated files to create all the objects in your project, run this command:</p>
<pre><code class="language-bash prettyprint">sed -i 's/n1-standard-8/n1-standard-4/g' gcp_config/cluster-kubeflow.yaml&#x000A;&#x000A;export CONFIG_FILE=${KF_DIR}/kfctl_gcp_basic_auth.v1.0.1.yaml&#x000A;&#x000A;kfctl apply -V -f ${CONFIG_FILE}&#x000A;</code></pre>
<p>Cluster creation may take up to <strong>10</strong> minutes to complete. Please be patient. Do not proceed until the command prompt is returned in the console.</p>
<p>You may notice warnings in the console related to <strong>... Encountered error applying application cert-manager ...</strong> and <strong>... Default user namespace pending creation ...</strong> these are advisory and will not affect completion of the cluster.</p>
<p>While it is running, you can view instantiation of the following objects in the GCP Console:</p>
<ul>
<li>In <strong>Deployment Manager</strong>, two deployment objects will appear:
<ul>
<li>kubeflow-qwiklab-storage</li>
<li>kubeflow-qwiklab</li>
</ul>
</li>
<li>In <strong>Kubernetes Engine</strong>, a cluster will appear: kubeflow
<ul>
<li>In the <strong>Workloads</strong> section, a number of Kubeflow components</li>
<li>In the <strong>Services</strong> section, a number of Kubeflow services</li>
</ul>
</li>
</ul>
<p>After the cluster is set up, use <code>gcloud</code> to fetch its credentials so you can communicate with it using <code>kubectl</code></p>
<pre><code class="language-bash prettyprint">gcloud container clusters get-credentials ${KF_NAME} --zone ${ZONE} --project ${PROJECT_ID}&#x000A;</code></pre>
<p>Switch to the <code>kubeflow</code> namespace</p>
<pre><code class="language-bash prettyprint">kubectl config set-context $(kubectl config current-context) --namespace=kubeflow&#x000A;</code></pre>
<p>Check view all the Kubeflow resources deployed on the cluster</p>
<pre><code class="language-bash prettyprint">kubectl get all&#x000A;</code></pre>
<p>Click Check my progress to verify the objective.</p>
<ql-activity-tracking step="1">
       Create a deployment for creation of cluster, service account and persistant disk.
  </ql-activity-tracking>
<h2 id="step10">Training</h2>
<p>The code for our Tensorflow project can be found in the  <a href="https://github.com/kubeflow/examples/blob/master/mnist/model.py">model.py</a>
file in the examples repository.  <em>model.py</em>  defines a fairly straight-forward Tensorflow training program, with no special modifications for Kubeflow.
After training is complete, it will attempt to upload the trained model to a file path provided as an argument. For the purpose of this lab, you will create and use a
<a href="https://console.cloud.google.com/storage/">Google Cloud Storage (GCS)</a> bucket to hold the trained model.</p>
<h3><strong>Setting up a Storage Bucket</strong></h3>
<p>Create a storage bucket on  <a href="https://cloud.google.com/storage/">Google Cloud Storage</a> to hold our trained model.
Note that the name you choose for your bucket must be unique across all of GCS.</p>
<pre><code># bucket name can be anything, but must be unique across all projects&#x000A;BUCKET_NAME=${KF_NAME}-${PROJECT_ID}&#x000A;&#x000A;# create the GCS bucket&#x000A;gsutil mb gs://${BUCKET_NAME}/&#x000A;</code></pre>
<p>Click Check my progress to verify the objective.</p>
<ql-activity-tracking step="2">
      Create a storage bucket.
  </ql-activity-tracking>
<h3><strong>Building the Container</strong></h3>
<p><img alt="54e5f5dd24560b69.png" src="https://cdn.qwiklabs.com/xK0AfTqHLbihlZzbIeoQOdXOSU83Ey1Ux0H4UoJZEm0%3D"></p>
<p>To deploy the code to Kubernetes, you have to first build it into a container image:</p>
<pre><code># set the path on GCR you want to push the image to&#x000A;IMAGE_PATH=us.gcr.io/$PROJECT_ID/kubeflow-train&#x000A;&#x000A;# build the tensorflow model into a container image&#x000A;# image is tagged with its eventual path on GCR, but it stays local for now&#x000A;docker build $WORKING_DIR -t $IMAGE_PATH -f $WORKING_DIR/Dockerfile.model&#x000A;</code></pre>
<p>Now, test the new container image locally to make sure everything is working as expected</p>
<pre><code>docker run -it $IMAGE_PATH&#x000A;</code></pre>
<p>You should see training logs start appearing in your console:</p>
<p><img alt="1b71dffe3bc42eb5.png" src="https://cdn.qwiklabs.com/oCGGqYljOzqsTK5lxqT5NpqWGiq%2B8SGysglydaHr084%3D"></p>
<p>Once you start seeing logs, that means training is working and you can terminate the container with "Ctrl+C".
Now that you know that the container can run locally, you can safely upload it to  <a href="https://console.cloud.google.com/gcr">Google Container Registry (GCR)</a>
so you can run it on your cluster.</p>
<pre><code># allow docker to access our GCR registry&#x000A;gcloud auth configure-docker --quiet&#x000A;&#x000A;docker push $IMAGE_PATH&#x000A;</code></pre>
<p>You should now see your new container listed on the <a href="https://console.cloud.google.com/gcr"> GCR console</a></p>
<h2 id="step11">Training on the Cluster</h2>
<h3><img alt="592dfcb8ad425470.png" src="https://cdn.qwiklabs.com/xYQZY8n4I23lFmyvvuc7%2FqeQJeG3hpQrqrVGk5eLXFE%3D"></h3>
<p>Finally, you can run the training job on the cluster. First, move into the training directory</p>
<pre><code class="language-bash prettyprint">cd $WORKING_DIR/training/GCS&#x000A;</code></pre>
<p>If you look around this directory, you will see a number of YAML files. You can now use kustomize to configure the manifests.
First, set a unique name for the training run</p>
<pre><code class="language-bash prettyprint">kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=name=my-train-1&#x000A;</code></pre>
<p>Next, set some default training parameters (number of training steps, batch size and learning rate)</p>
<pre><code class="language-bash prettyprint">kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=trainSteps=200&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=batchSize=100&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=learningRate=0.01&#x000A;</code></pre>
<p>Now, configure the manifest to use your custom bucket and training image</p>
<pre><code class="language-bash prettyprint">kustomize edit set image training-image=${IMAGE_PATH}:latest&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=modelDir=gs://${BUCKET_NAME}/my-model&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=exportDir=gs://${BUCKET_NAME}/my-model/export&#x000A;</code></pre>
<p>One thing to keep in mind is that the python training code has to have permissions to read/write to the storage bucket you set up.
Kubeflow solves this by creating a  <a href="https://cloud.google.com/iam/docs/understanding-service-accounts">service account</a> within your project as a part of
the deployment. You can verify this by listing your service accounts:</p>
<pre><code class="language-bash prettyprint">gcloud --project=$PROJECT_ID iam service-accounts list&#x000A;</code></pre>
<p>This service account should be automatically granted the right permissions to read and write to our storage bucket.
Kubeflow also added a  <a href="https://kubernetes.io/docs/concepts/configuration/secret/">Kubernetes secret</a> called "user-gcp-sa" to our cluster,
containing the credentials needed to authenticate as this service account within our cluster:</p>
<pre><code class="language-bash prettyprint">kubectl describe secret user-gcp-sa&#x000A;</code></pre>
<p>To access your storage bucket from inside our training container, you need to set the
<a href="https://cloud.google.com/docs/authentication/getting-started">GOOGLE_APPLICATION_CREDENTIALS</a>  environment variable to point to the json file
contained in the secret. You can do this by setting a few more Kustomize parameters:</p>
<pre><code class="language-bash prettyprint">kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=secretName=user-gcp-sa&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=secretMountPath=/var/secrets&#x000A;kustomize edit add configmap mnist-map-training \&#x000A;    --from-literal=GOOGLE_APPLICATION_CREDENTIALS=/var/secrets/user-gcp-sa.json&#x000A;</code></pre>
<p>Lastly, update the base config files to use this style of authentication (the default has changed in a recent kubeflow update).</p>
<pre><code class="language-bash prettyprint">sed -i 's/default-editor/kf-user/g' ../**/*&#x000A;</code></pre>
<p>Now that all the parameters are set, use Kustomize to build the new customized YAML file:</p>
<pre><code class="language-bash prettyprint">kustomize build .&#x000A;</code></pre>
<p>You can pipe this YAML manifest to kubectl to deploy the training job to the cluster.  The training will take approximately <strong>45</strong> to <strong>60</strong> minutes:</p>
<pre><code class="language-bash prettyprint">kustomize build . | kubectl apply -f -&#x000A;</code></pre>
<p>After applying the component, there should be a new tf-job on the cluster called  <em>my-train-1-chief-0</em>.   Use <em>kubectl</em> to access information about the job.</p>
<pre><code class="language-bash prettyprint">kubectl describe tfjob&#x000A;</code></pre>
<p>For even more information, you can use <em>kubectl</em> to retrieve the python logs from the pod that's running the container itself (after the container has finished initializing).  <strong>NOTE:</strong> You may need to execute the command a few times until the job is fully enbabled and running.</p>
<p>Use "Ctrl+C" to exit the log view:</p>
<pre><code class="language-bash prettyprint">kubectl logs -f my-train-1-chief-0&#x000A;</code></pre>
<p>When training is complete, you can query your bucket's data using gsutil. You should see the model data added to your bucket:</p>
<pre><code class="language-bash prettyprint">gsutil ls -r gs://${BUCKET_NAME}/my-model/export&#x000A;</code></pre>
<p>Alternatively, you can check the contents of your bucket through the  <a href="https://console.cloud.google.com/storage">GCP Cloud Console</a>.</p>
<p><img alt="bucket.png" src="https://cdn.qwiklabs.com/tFY2d5qOhbksj7Q2OFAJVvnDb2zVJSLKSa4N8z2PuMU%3D"></p>
<p>While training is underway, you may refresh the GCS bucket until the <strong>"export"</strong> folder appears or let <code>kubectl logs -f my-train-1-chief-0</code>  run until it ends.</p>
<aside class="special">
<p>Note: The model is actually saving two outputs:</p>
<ol>
<li>
<p>a set of  <a href="https://www.tensorflow.org/guide/checkpoints">checkpoints</a> to resume training later if desired</p>
</li>
<li>
<p>A directory called  "export" which holds the model in a format that can be read by a  <a href="https://www.tensorflow.org/serving/serving_basic">TensorFlow Serving</a> component</p>
</li>
</ol>
</aside>
<p>Click Check my progress to verify the objective.</p>
<ql-activity-tracking step="3">
      Apply the container to the cluster for training.
  </ql-activity-tracking>
<h2 id="step12">Serving</h2>
<p><img alt="cc5d49c6f430d718.png" src="https://cdn.qwiklabs.com/Fi1ydDg3qTNr%2FiSV%2BFYIYKWc7MiFN78xFev4pQc0iqE%3D"></p>
<p>Now that you have a trained model, it's time to put it in a server so it can be used to handle requests.
To do this, move into the "serving/GCS" directory</p>
<pre><code>cd $WORKING_DIR/serving/GCS&#x000A;</code></pre>
<p>The Kubeflow manifests in this directory contain a TensorFlow Serving implementation.
You simply need to point the component to your GCS bucket where the model data is stored, and it will spin up a server to handle requests.
Unlike the  <em>tf-job</em> , no custom container is required for the server process. Instead, all the information the server needs is stored in the model file.</p>
<p>Like before, start by setting some parameters to customize the deployment for our use. First, set the name for the service:</p>
<pre><code>kustomize edit add configmap mnist-map-serving \&#x000A;    --from-literal=name=mnist-service&#x000A;</code></pre>
<p>Next, point the server at the trained model in your GCP bucket:</p>
<pre><code>kustomize edit add configmap mnist-map-serving \&#x000A;    --from-literal=modelBasePath=gs://${BUCKET_NAME}/my-model/export&#x000A;</code></pre>
<p>Lastly, update the base config files to use this style of authentication (the default has changed in a recent kubeflow update).</p>
<pre><code class="language-bash prettyprint">sed -i 's/default-editor/kf-user/g' ../**/*&#x000A;</code></pre>
<p>Now, deploy the server to the cluster:</p>
<pre><code>kustomize build . | kubectl apply -f -&#x000A;</code></pre>
<p>If you describe the new service, you'll see it's listening for connections within the cluster on port 9000:</p>
<pre><code>kubectl describe service mnist-service&#x000A;</code></pre>
<p>Click Check my progress to verify the objective.</p>
<ql-activity-tracking step="4">
      Apply the component to the cluster for serving.
  </ql-activity-tracking>
<h2 id="step13">Deploying the UI</h2>
<p>Change to the directory containing the web front end manifests:</p>
<pre><code>cd $WORKING_DIR/front&#x000A;</code></pre>
<p>Unlike the other steps, this manifest requires no customization. It can be applied directly:</p>
<pre><code>kustomize build . | kubectl apply -f -&#x000A;</code></pre>
<p>The service added is of type  <a href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">ClusterIP</a>,
meaning it can't be accessed from outside the cluster. In order to load the web UI in your web browser, you have to set up a direct connection to the cluster:</p>
<pre><code>kubectl port-forward svc/web-ui 8080:80&#x000A;</code></pre>
<p>It may take <strong>1</strong> to <strong>2</strong> minutes to fully stand up the browser application.  You may receive an error message stating "error: unable to forward port because pod is not running. Current status=Pending", if so run the command again until you see <strong>Forwarding from 127.0.0.1:8080 -&gt; 5000</strong> in the terminal window.</p>
<p>Now in your Cloud Shell interface, press the <strong>Web Preview</strong> button and select "Preview on port 8080" to open the web interface in your browser:</p>
<p><img alt="NewWebPreview.png" src="https://cdn.qwiklabs.com/4jJVMXGMO1oWdccsOq4mz1v%2FjgTyhv%2F6XfWmFc%2Fhvpk%3D"></p>
<p>You should now see the MNIST Web UI:</p>
<p><img alt="ce4114418d5d92b5.png" src="https://cdn.qwiklabs.com/1p3zVCa21KZHKYiG%2BebgxEPo0KlGb%2FA7pckF8dPijAQ%3D"></p>
<p>Keep in mind that the web interface doesn't do much on its own, it's simply a basic HTML/JS wrapper around the<a href="https://www.tensorflow.org/serving/">Tensorflow Serving</a>
component, which performs the actual predictions. To emphasize this, the web interface allows you to manually connect with the serving instance located in the
cluster. It has three fields:</p>
<p><strong>Model Name:</strong> mnist</p>
<ul>
<li>The model name associated with the Tensorflow Serving component</li>
<li>You configured this when you set the modelName parameter for the  <em>mnist-deploy-gcp</em> component</li>
</ul>
<p><strong>Server Address:</strong> mnist-service</p>
<ul>
<li>The IP address or DNS name of the server</li>
<li>Because Kubernetes has an  <a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/">internal DNS service</a>, you can enter the service name here</li>
</ul>
<p><strong>Port:</strong> 9000</p>
<ul>
<li>The port the server is listening on</li>
<li>Kubeflow sets this to 9000 by default</li>
</ul>
<p>These three fields uniquely define your model server. If you deploy multiple serving components, you should be able to switch between them using the web interface.
Feel free to experiment!</p>
<p><img alt="e559c13b4b16e4f4.png" src="https://cdn.qwiklabs.com/RJlXBx6NpQvFcaw2Ykp%2Fvr11NqIoKaDQ9EljmlJbs9g%3D"></p>
<p>Click Check my progress to verify the objective.</p>
<ql-activity-tracking step="5">
      Apply the component to the cluster to deploy the UI.
  </ql-activity-tracking>
<h2 id="step14">The Final Product</h2>
<p>If everything worked properly, you should see an interface for your machine learning model. Each  time you refresh the page or press the <strong>TEST RANDOM IMAGE</strong> button, it will load a random image from the MNIST testing set and perform a prediction. The table below the image displays the probability of each class label. Because the model was properly trained, confidence will be high and mistakes should be very rare. See if you can find any!</p>
<p><img alt="4536ac27b658b770.png" src="https://cdn.qwiklabs.com/pGf7RnWnpBqT7DA2qkTncmeRUbR%2BJPS9o221%2B4QrR0k%3D"></p>
<p>Press "Ctrl+C" to close the Web Application.</p>
<h2 id="step15">Congratulations!</h2>
<p>You successfully set up Kubeflow on a Kubernetes Engine cluster, used Kubeflow to deploy a TensorFlow model training service, and deployed an interactive API based on the trained model.</p>
<h3>Next Steps / Learn More</h3>
<ul>
<li><a href="https://cloud.google.com/kubernetes-engine/docs/tutorials/migrating-node-pool">Simplifying Machine Learning on Open Hybrid Clouds with Kubeflow</a></li>
<li>Cloud OnAir: <a href="https://www.youtube.com/watch?v=Jb-XOfaCge8">Kubeflow: Machine Learning + Kubernetes</a> (open this video in a new tab, 37 minutes long)</li>
</ul>
<p>¬©2019 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>



</div>
<div class='js-lab-content-outline lab-content__outline'>
<a href='#step1'>Overview</a><a href='#step2'>Set up the environment</a><a href='#step3'>Qwiklabs setup</a><a href='#step4'>Enable Boost Mode</a><a href='#step5'>Download the project files to Cloud Shell</a><a href='#step6'>Setting Environment Variables</a><a href='#step7'>Installing Kustomize</a><a href='#step8'>Enabling the API</a><a href='#step9'>Create a cluster</a><a href='#step10'>Training</a><a href='#step11'>Training on the Cluster</a><a href='#step12'>Serving</a><a href='#step13'>Deploying the UI</a><a href='#step14'>The Final Product</a><a href='#step15'>Congratulations!</a>
</div>
</div>

</div>


</div>
</div>
<div class='lab-assessment__tab js-lab-assessment-tab'>
<h5 class='small-label'>
Score
</h5>
<h3 class='js-lab-assessment-total-score'>
&mdash;/25
</h3>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-assessment__panel js-lab-assessment-panel'>
<!-- / If lab_instance has is started and assessment is generated, use -->
<!-- / lab_instance.assessment, otherwise use lab.assessment_manual -->
<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Create a deployment for creation of cluster, service account and persistant disk
</p>
<p class='button button--assessment js-show-run-step-button' step_no='1'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-1'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Create a storage bucket.
</p>
<p class='button button--assessment js-show-run-step-button' step_no='2'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-2'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Apply the container to the cluster for training
</p>
<p class='button button--assessment js-show-run-step-button' step_no='3'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-3'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Apply the component to the cluster for serving
</p>
<p class='button button--assessment js-show-run-step-button' step_no='4'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-4'>
</span>
/ 5
</p>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title'>
Apply the component to the cluster to deploy the UI
</p>
<p class='button button--assessment js-show-run-step-button' step_no='5'>
Run Step
</p>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-5'>
</span>
/ 5
</p>
</div>

<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='lab-introduction js-lab-introduction is-hidden'>
<div class='lab-introduction__inner'>
<h1 class='headline-1'>Welcome to Your First Lab!</h1>
<ql-icon-button class='js-skip-button'>close</ql-icon-button>
<div class='lab-introduction__video'>
<iframe allow='autoplay; encrypted-media' allowfullscreen frameborder='0' id='lab-introduction' src='https://www.youtube.com/embed/yF7EDXKTmoQ?enablejsapi=1&amp;rel=0&amp;showinfo=0'></iframe>
</div>
<a class='js-skip-button button button--outline'>Skip this video</a>
</div>
</div>



</div>
</main>
<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<div class='modal-body'>
<p class='l-mbm'>
This lab will serve as an introduction to Kubeflow, an open-source project which aims to make running ML workloads on Kubernetes simple, portable and scalable.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
0m setup
&middot;
150m access
&middot;
150m completion
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>expert</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/2123">https://googlecoursera.qwiklabs.com/catalog_lab/2123</a>
</p>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>
<div class='modal fade' id='lab-review-modal'>
<div class='modal-container'>
<div class='mdl-shadow--24dp modal-content'>
<form class="simple_form js-lab-review-form" id="edit_lab_review_5086715" action="/lab_reviews/5086715" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><div class='modal-body'>
<p class='label'>
How satisfied are you with this lab?*
</p>
<div class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='5'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" type="hidden" value="2485272" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" type="hidden" value="5973" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" type="hidden" value="2123" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" type="hidden" value="46792" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" type="hidden" value="2" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Comment</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</div>
<div class='modal-actions'>
<a class='mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect' data-dismiss='modal'>
Cancel
</a>
<input type="submit" name="commit" value="Submit" disabled="disabled" class="btn mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary" id="submit" data-disabled="false" data-disable-with="Submit" />
</div>
</form>

</div>
</div>
<iframe class='l-ie-iframe-fix'></iframe>
</div>

<script>
  $( function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    initLabContent( );
  ql.labOutline.links.init();
  ql.labOutline.layout.init();
  initLabReviewModal();
  ql.labAssessment.init();
  ql.labIntroduction.init( true );
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?\n","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.\n","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ‚åò-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.initHeader();
  ql.navigation.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>
<style>
  .mdl-layout__container {
    position: static
  }
</style>
</body>
</html>
